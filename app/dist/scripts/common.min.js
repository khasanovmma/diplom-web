"use strict";

setTimeout(function () {
  var option = document.querySelector('option');
  option.innerHTML = 'Tilni o\'zgartirish';
}, 1500);
window.addEventListener('scroll', function () {
  var scrollDistance = window.scrollY;

  if (window.innerWidth > 768) {
    document.querySelectorAll('.sections-body').forEach(function (el, i) {
      if (el.offsetTop - document.querySelector('.nav').clientHeight <= scrollDistance) {
        document.querySelectorAll('.nav a').forEach(function (el) {
          if (el.classList.contains('active')) {
            el.classList.remove('active');
          }
        });
        document.querySelectorAll('.nav li')[i].querySelector('a').classList.add('active');
      }
    });
  }
}); // Get the modal

var modal = document.querySelector('.modal');
var bd = document.querySelector('body');
var modalTitle = document.querySelector('.modal-block__title');
var modalContent = document.querySelector('.modal-block__text');
var newsTitle = document.querySelectorAll('.news-block__title');
var newsContent = document.querySelectorAll('.news-block__text'); // Get the button that opens the modal

var btn = document.querySelectorAll("#myBtn"); // Get the <span> element that closes the modal

var span = document.getElementsByClassName("close")[0]; // When the user clicks the button, open the modal 

var _loop = function _loop(i) {
  btn[i].addEventListener('click', function () {
    console.log(modalTitle.innerHTML);
    modal.style.display = "block";
    bd.style.overflow = 'hidden';
    modalTitle.innerHTML = newsTitle[i].innerHTML;
    modalContent.innerHTML = newsContent[i].innerHTML;
  });
};

for (var i = 0; i < btn.length; i++) {
  _loop(i);
} // When the user clicks on <span> (x), close the modal


span.onclick = function () {
  modal.style.display = "none";
  bd.style.overflow = 'auto';
}; // When the user clicks anywhere outside of the modal, close it


window.onclick = function (event) {
  if (event.target == modal) {
    modal.style.display = "none";
  }
};

function googleTranslateElementInit() {
  new google.translate.TranslateElement({
    pageLanguage: 'uz'
  }, 'google_translate_element');
}

function animate(obj, initVal, lastVal, duration) {
  var startTime = null; //get the current timestamp and assign it to the currentTime variable

  var currentTime = Date.now(); //pass the current timestamp to the step function

  var step = function step(currentTime) {
    //if the start time is null, assign the current time to startTime
    if (!startTime) {
      startTime = currentTime;
    } //calculate the value to be used in calculating the number to be displayed


    var progress = Math.min((currentTime - startTime) / duration, 1); //calculate what to be displayed using the value gotten above

    obj.innerHTML = Math.floor(progress * (lastVal - initVal) + initVal); //checking to make sure the counter does not exceed the last value (lastVal)

    if (progress < 1) {
      window.requestAnimationFrame(step);
    } else {
      window.cancelAnimationFrame(window.requestAnimationFrame(step));
    }
  }; //start animating


  window.requestAnimationFrame(step);
}

var text1 = document.getElementById('value1');
var text2 = document.getElementById('value2');
var text3 = document.getElementById('value3');

var load = function load() {
  animate(text1, 0, 564, 5000);
  animate(text2, 0, 10153, 5000);
  animate(text3, 100, 10717, 5000);
}; // nav link


var links = document.querySelectorAll('.nav__link');
var pages = document.querySelectorAll('.page'); // nav

var navControl = document.querySelectorAll('.nav__btn, .nav__close'),
    navToggle = document.querySelectorAll('.nav__btn, .nav__list');
navControl.forEach(function (btn) {
  return btn.addEventListener('click', function () {
    navToggle.forEach(function (el) {
      return el.classList.toggle('open');
    });
  });
}); // slider

var $slider = document.querySelector('.slider');
var $sliderBtn = document.querySelectorAll('[data-target]');
var $sliderItem = document.querySelectorAll('.slider__item');
var activeSlide = 0;
$sliderItem.forEach(function (item, i) {
  if (item.classList.contains('active')) {
    activeSlide = i;
  }
});
$sliderBtn.forEach(function (btn) {
  btn.addEventListener('click', function (e) {
    sliderMove(e.target.getAttribute('id'));
  });
});

function sliderMove(direction) {
  if (direction === 'next') {
    if (activeSlide < $sliderItem.length - 1) {
      activeSlide++;
    } else {
      activeSlide = 0;
    }
  } else {
    if (activeSlide > 0) {
      activeSlide--;
    } else {
      activeSlide = $sliderItem.length - 1;
    }
  }

  $sliderItem.forEach(function (item) {
    item.classList.remove('active');
  });
  $sliderItem[activeSlide].classList.add('active');
}

var interval = setInterval(function () {
  return sliderMove('next');
}, 3000); // slider

var $mainSlider = document.querySelector('.main-slider');
var $mainSliderBtn = document.querySelectorAll('[data-target]');
var $mainSliderItem = document.querySelectorAll('.main-slider__item');
var activeSlid = 0;
$mainSliderItem.forEach(function (item, i) {
  if (item.classList.contains('active')) {
    activeSlid = i;
  }
});
$mainSliderBtn.forEach(function (btn) {
  btn.addEventListener('click', function (e) {
    sliderChange(e.target.getAttribute('id'));
  });
});

function sliderChange(direction) {
  if (direction === 'next') {
    if (activeSlid < $mainSliderItem.length - 1) {
      activeSlid++;
    } else {
      activeSlid = 0;
    }
  } else {
    if (activeSlid > 0) {
      activeSlid--;
    } else {
      activeSlid = $mainSliderItem.length - 1;
    }
  }

  $mainSliderItem.forEach(function (item) {
    item.classList.remove('active');
  });
  $mainSliderItem[activeSlid].classList.add('active');
}

var mainInterval = setInterval(function () {
  return sliderChange('next');
}, 3000);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmlwdC5qcyJdLCJuYW1lcyI6WyJzZXRUaW1lb3V0Iiwib3B0aW9uIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiaW5uZXJIVE1MIiwid2luZG93IiwiYWRkRXZlbnRMaXN0ZW5lciIsInNjcm9sbERpc3RhbmNlIiwic2Nyb2xsWSIsImlubmVyV2lkdGgiLCJxdWVyeVNlbGVjdG9yQWxsIiwiZm9yRWFjaCIsImVsIiwiaSIsIm9mZnNldFRvcCIsImNsaWVudEhlaWdodCIsImNsYXNzTGlzdCIsImNvbnRhaW5zIiwicmVtb3ZlIiwiYWRkIiwibW9kYWwiLCJiZCIsIm1vZGFsVGl0bGUiLCJtb2RhbENvbnRlbnQiLCJuZXdzVGl0bGUiLCJuZXdzQ29udGVudCIsImJ0biIsInNwYW4iLCJnZXRFbGVtZW50c0J5Q2xhc3NOYW1lIiwiY29uc29sZSIsImxvZyIsInN0eWxlIiwiZGlzcGxheSIsIm92ZXJmbG93IiwibGVuZ3RoIiwib25jbGljayIsImV2ZW50IiwidGFyZ2V0IiwiZ29vZ2xlVHJhbnNsYXRlRWxlbWVudEluaXQiLCJnb29nbGUiLCJ0cmFuc2xhdGUiLCJUcmFuc2xhdGVFbGVtZW50IiwicGFnZUxhbmd1YWdlIiwiYW5pbWF0ZSIsIm9iaiIsImluaXRWYWwiLCJsYXN0VmFsIiwiZHVyYXRpb24iLCJzdGFydFRpbWUiLCJjdXJyZW50VGltZSIsIkRhdGUiLCJub3ciLCJzdGVwIiwicHJvZ3Jlc3MiLCJNYXRoIiwibWluIiwiZmxvb3IiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJjYW5jZWxBbmltYXRpb25GcmFtZSIsInRleHQxIiwiZ2V0RWxlbWVudEJ5SWQiLCJ0ZXh0MiIsInRleHQzIiwibG9hZCIsImxpbmtzIiwicGFnZXMiLCJuYXZDb250cm9sIiwibmF2VG9nZ2xlIiwidG9nZ2xlIiwiJHNsaWRlciIsIiRzbGlkZXJCdG4iLCIkc2xpZGVySXRlbSIsImFjdGl2ZVNsaWRlIiwiaXRlbSIsImUiLCJzbGlkZXJNb3ZlIiwiZ2V0QXR0cmlidXRlIiwiZGlyZWN0aW9uIiwiaW50ZXJ2YWwiLCJzZXRJbnRlcnZhbCIsIiRtYWluU2xpZGVyIiwiJG1haW5TbGlkZXJCdG4iLCIkbWFpblNsaWRlckl0ZW0iLCJhY3RpdmVTbGlkIiwic2xpZGVyQ2hhbmdlIiwibWFpbkludGVydmFsIl0sIm1hcHBpbmdzIjoiOztBQUFBQSxVQUFVLENBQUMsWUFBTTtBQUNiLE1BQUlDLE1BQU0sR0FBR0MsUUFBUSxDQUFDQyxhQUFULENBQXVCLFFBQXZCLENBQWI7QUFDQUYsRUFBQUEsTUFBTSxDQUFDRyxTQUFQLEdBQW1CLHFCQUFuQjtBQUdILENBTFMsRUFLUCxJQUxPLENBQVY7QUFPQUMsTUFBTSxDQUFDQyxnQkFBUCxDQUF3QixRQUF4QixFQUFrQyxZQUFNO0FBQ3ZDLE1BQUlDLGNBQWMsR0FBR0YsTUFBTSxDQUFDRyxPQUE1Qjs7QUFFQSxNQUFJSCxNQUFNLENBQUNJLFVBQVAsR0FBb0IsR0FBeEIsRUFBNkI7QUFDNUJQLElBQUFBLFFBQVEsQ0FBQ1EsZ0JBQVQsQ0FBMEIsZ0JBQTFCLEVBQTRDQyxPQUE1QyxDQUFvRCxVQUFDQyxFQUFELEVBQUtDLENBQUwsRUFBVztBQUM5RCxVQUFJRCxFQUFFLENBQUNFLFNBQUgsR0FBZVosUUFBUSxDQUFDQyxhQUFULENBQXVCLE1BQXZCLEVBQStCWSxZQUE5QyxJQUE4RFIsY0FBbEUsRUFBa0Y7QUFDakZMLFFBQUFBLFFBQVEsQ0FBQ1EsZ0JBQVQsQ0FBMEIsUUFBMUIsRUFBb0NDLE9BQXBDLENBQTRDLFVBQUNDLEVBQUQsRUFBUTtBQUNuRCxjQUFJQSxFQUFFLENBQUNJLFNBQUgsQ0FBYUMsUUFBYixDQUFzQixRQUF0QixDQUFKLEVBQXFDO0FBQ3BDTCxZQUFBQSxFQUFFLENBQUNJLFNBQUgsQ0FBYUUsTUFBYixDQUFvQixRQUFwQjtBQUNBO0FBQ0QsU0FKRDtBQU1BaEIsUUFBQUEsUUFBUSxDQUFDUSxnQkFBVCxDQUEwQixTQUExQixFQUFxQ0csQ0FBckMsRUFBd0NWLGFBQXhDLENBQXNELEdBQXRELEVBQTJE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QUFJLEVBQUk7QUFDNUJBLElBQUFBLElBQUksQ0FBQ3pELFNBQUwsQ0FBZUUsTUFBZixDQUFzQixRQUF0QjtBQUNILEdBRkQ7QUFHQWdFLEVBQUFBLGVBQWUsQ0FBQ0MsVUFBRCxDQUFmLENBQTRCbkUsU0FBNUIsQ0FBc0NHLEdBQXRDLENBQTBDLFFBQTFDO0FBQ0g7O0FBQ0QsSUFBSWtFLFlBQVksR0FBR04sV0FBVyxDQUFDO0FBQUEsU0FBTUssWUFBWSxDQUFDLE1BQUQsQ0FBbEI7QUFBQSxDQUFELEVBQTZCLElBQTdCLENBQTlCIiwic291cmNlc0NvbnRlbnQiOlsic2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICBsZXQgb3B0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcignb3B0aW9uJylcclxuICAgIG9wdGlvbi5pbm5lckhUTUwgPSAnVGlsbmkgb1xcJ3pnYXJ0aXJpc2gnXHJcbiAgICBcclxuXHJcbn0sIDE1MDApO1xyXG5cclxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsICgpID0+IHtcclxuXHRsZXQgc2Nyb2xsRGlzdGFuY2UgPSB3aW5kb3cuc2Nyb2xsWTtcclxuXHJcblx0aWYgKHdpbmRvdy5pbm5lcldpZHRoID4gNzY4KSB7XHJcblx0XHRkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuc2VjdGlvbnMtYm9keScpLmZvckVhY2goKGVsLCBpKSA9PiB7XHJcblx0XHRcdGlmIChlbC5vZmZzZXRUb3AgLSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubmF2JykuY2xpZW50SGVpZ2h0IDw9IHNjcm9sbERpc3RhbmNlKSB7XHJcblx0XHRcdFx0ZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLm5hdiBhJykuZm9yRWFjaCgoZWwpID0+IHtcclxuXHRcdFx0XHRcdGlmIChlbC5jbGFzc0xpc3QuY29udGFpbnMoJ2FjdGl2ZScpKSB7XHJcblx0XHRcdFx0XHRcdGVsLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH0pO1xyXG5cclxuXHRcdFx0XHRkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcubmF2IGxpJylbaV0ucXVlcnlTZWxlY3RvcignYScpLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHR9XHJcbn0pO1xyXG4vLyBHZXQgdGhlIG1vZGFsXHJcbnZhciBtb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tb2RhbCcpO1xyXG52YXIgYmQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdib2R5Jyk7XHJcbnZhciBtb2RhbFRpdGxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1vZGFsLWJsb2NrX190aXRsZScpO1xyXG52YXIgbW9kYWxDb250ZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1vZGFsLWJsb2NrX190ZXh0Jyk7XHJcbnZhciBuZXdzVGl0bGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcubmV3cy1ibG9ja19fdGl0bGUnKTtcclxudmFyIG5ld3NDb250ZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLm5ld3MtYmxvY2tfX3RleHQnKTtcclxuXHJcbi8vIEdldCB0aGUgYnV0dG9uIHRoYXQgb3BlbnMgdGhlIG1vZGFsXHJcbnZhciBidG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiI215QnRuXCIpO1xyXG5cclxuLy8gR2V0IHRoZSA8c3Bhbj4gZWxlbWVudCB0aGF0IGNsb3NlcyB0aGUgbW9kYWxcclxudmFyIHNwYW4gPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwiY2xvc2VcIilbMF07XHJcblxyXG4vLyBXaGVuIHRoZSB1c2VyIGNsaWNrcyB0aGUgYnV0dG9uLCBvcGVuIHRoZSBtb2RhbCBcclxuXHJcbmZvcihsZXQgaT0wOyBpIDwgYnRuLmxlbmd0aDsgaSsrKSB7XHJcbiAgICBidG5baV0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKT0+IHtcclxuICAgICAgICBjb25zb2xlLmxvZyhtb2RhbFRpdGxlLmlubmVySFRNTCk7XHJcbiAgICAgICAgbW9kYWwuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcclxuICAgICAgICBiZC5zdHlsZS5vdmVyZmxvdyA9ICdoaWRkZW4nO1xyXG4gICAgICAgIG1vZGFsVGl0bGUuaW5uZXJIVE1MID0gbmV3c1RpdGxlW2ldLmlubmVySFRNTFxyXG4gICAgICAgIG1vZGFsQ29udGVudC5pbm5lckhUTUwgPSBuZXdzQ29udGVudFtpXS5pbm5lckhUTUxcclxuICAgIH0pXHJcbn1cclxuLy8gV2hlbiB0aGUgdXNlciBjbGlja3Mgb24gPHNwYW4+ICh4KSwgY2xvc2UgdGhlIG1vZGFsXHJcbnNwYW4ub25jbGljayA9IGZ1bmN0aW9uKCkge1xyXG4gICAgbW9kYWwuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG4gICAgYmQuc3R5bGUub3ZlcmZsb3cgPSAnYXV0byc7XHJcbn1cclxuXHJcbi8vIFdoZW4gdGhlIHVzZXIgY2xpY2tzIGFueXdoZXJlIG91dHNpZGUgb2YgdGhlIG1vZGFsLCBjbG9zZSBpdFxyXG53aW5kb3cub25jbGljayA9IGZ1bmN0aW9uKGV2ZW50KSB7XHJcbiAgICBpZiAoZXZlbnQudGFyZ2V0ID09IG1vZGFsKSB7XHJcbiAgICAgICAgbW9kYWwuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG4gICAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBnb29nbGVUcmFuc2xhdGVFbGVtZW50SW5pdCgpIHtcclxuICAgIG5ldyBnb29nbGUudHJhbnNsYXRlLlRyYW5zbGF0ZUVsZW1lbnQoeyBwYWdlTGFuZ3VhZ2U6ICd1eicgfSwgJ2dvb2dsZV90cmFuc2xhdGVfZWxlbWVudCcpO1xyXG59XHJcblxyXG5cclxuZnVuY3Rpb24gYW5pbWF0ZShvYmosIGluaXRWYWwsIGxhc3RWYWwsIGR1cmF0aW9uKSB7XHJcblxyXG4gICAgbGV0IHN0YXJ0VGltZSA9IG51bGw7XHJcblxyXG4gICAgLy9nZXQgdGhlIGN1cnJlbnQgdGltZXN0YW1wIGFuZCBhc3NpZ24gaXQgdG8gdGhlIGN1cnJlbnRUaW1lIHZhcmlhYmxlXHJcbiAgICBsZXQgY3VycmVudFRpbWUgPSBEYXRlLm5vdygpO1xyXG5cclxuICAgIC8vcGFzcyB0aGUgY3VycmVudCB0aW1lc3RhbXAgdG8gdGhlIHN0ZXAgZnVuY3Rpb25cclxuICAgIGNvbnN0IHN0ZXAgPSAoY3VycmVudFRpbWUpID0+IHtcclxuXHJcbiAgICAgICAgLy9pZiB0aGUgc3RhcnQgdGltZSBpcyBudWxsLCBhc3NpZ24gdGhlIGN1cnJlbnQgdGltZSB0byBzdGFydFRpbWVcclxuICAgICAgICBpZiAoIXN0YXJ0VGltZSkge1xyXG4gICAgICAgICAgICBzdGFydFRpbWUgPSBjdXJyZW50VGltZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vY2FsY3VsYXRlIHRoZSB2YWx1ZSB0byBiZSB1c2VkIGluIGNhbGN1bGF0aW5nIHRoZSBudW1iZXIgdG8gYmUgZGlzcGxheWVkXHJcbiAgICAgICAgY29uc3QgcHJvZ3Jlc3MgPSBNYXRoLm1pbigoY3VycmVudFRpbWUgLSBzdGFydFRpbWUpIC8gZHVyYXRpb24sIDEpO1xyXG5cclxuICAgICAgICAvL2NhbGN1bGF0ZSB3aGF0IHRvIGJlIGRpc3BsYXllZCB1c2luZyB0aGUgdmFsdWUgZ290dGVuIGFib3ZlXHJcbiAgICAgICAgb2JqLmlubmVySFRNTCA9IE1hdGguZmxvb3IocHJvZ3Jlc3MgKiAobGFzdFZhbCAtIGluaXRWYWwpICsgaW5pdFZhbCk7XHJcblxyXG4gICAgICAgIC8vY2hlY2tpbmcgdG8gbWFrZSBzdXJlIHRoZSBjb3VudGVyIGRvZXMgbm90IGV4Y2VlZCB0aGUgbGFzdCB2YWx1ZSAobGFzdFZhbClcclxuICAgICAgICBpZiAocHJvZ3Jlc3MgPCAxKSB7XHJcbiAgICAgICAgICAgIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoc3RlcCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB3aW5kb3cuY2FuY2VsQW5pbWF0aW9uRnJhbWUod2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZShzdGVwKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAvL3N0YXJ0IGFuaW1hdGluZ1xyXG4gICAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZShzdGVwKTtcclxufVxyXG5cclxubGV0IHRleHQxID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3ZhbHVlMScpO1xyXG5sZXQgdGV4dDIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndmFsdWUyJyk7XHJcbmxldCB0ZXh0MyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd2YWx1ZTMnKTtcclxuXHJcblxyXG5jb25zdCBsb2FkID0gKCkgPT4ge1xyXG4gICAgYW5pbWF0ZSh0ZXh0MSwgMCwgNTY0LCA1MDAwKTtcclxuICAgIGFuaW1hdGUodGV4dDIsIDAsIDEwMTUzLCA1MDAwKTtcclxuICAgIGFuaW1hdGUodGV4dDMsIDEwMCwgMTA3MTcsIDUwMDApO1xyXG59XHJcblxyXG5cclxuXHJcbi8vIG5hdiBsaW5rXHJcbmNvbnN0IGxpbmtzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLm5hdl9fbGluaycpO1xyXG5jb25zdCBwYWdlcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5wYWdlJyk7XHJcbi8vIG5hdlxyXG5jb25zdCBuYXZDb250cm9sID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLm5hdl9fYnRuLCAubmF2X19jbG9zZScpLFxyXG4gICAgbmF2VG9nZ2xlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLm5hdl9fYnRuLCAubmF2X19saXN0Jyk7XHJcblxyXG5uYXZDb250cm9sLmZvckVhY2goYnRuID0+IGJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgIG5hdlRvZ2dsZS5mb3JFYWNoKGVsID0+IGVsLmNsYXNzTGlzdC50b2dnbGUoJ29wZW4nKSlcclxufSkpXHJcblxyXG4vLyBzbGlkZXJcclxuXHJcbmNvbnN0ICRzbGlkZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc2xpZGVyJyk7XHJcbmNvbnN0ICRzbGlkZXJCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS10YXJnZXRdJyk7XHJcbmNvbnN0ICRzbGlkZXJJdGVtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnNsaWRlcl9faXRlbScpO1xyXG5sZXQgYWN0aXZlU2xpZGUgPSAwXHJcbiRzbGlkZXJJdGVtLmZvckVhY2goKGl0ZW0sIGkpID0+IHtcclxuICAgIGlmIChpdGVtLmNsYXNzTGlzdC5jb250YWlucygnYWN0aXZlJykpIHtcclxuICAgICAgICBhY3RpdmVTbGlkZSA9IGlcclxuICAgIH1cclxufSlcclxuJHNsaWRlckJ0bi5mb3JFYWNoKGJ0biA9PiB7XHJcbiAgICBidG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xyXG4gICAgICAgIHNsaWRlck1vdmUoZS50YXJnZXQuZ2V0QXR0cmlidXRlKCdpZCcpKVxyXG4gICAgfSlcclxufSlcclxuXHJcbmZ1bmN0aW9uIHNsaWRlck1vdmUoZGlyZWN0aW9uKSB7XHJcbiAgICBpZiAoZGlyZWN0aW9uID09PSAnbmV4dCcpIHtcclxuICAgICAgICBpZiAoYWN0aXZlU2xpZGUgPCAkc2xpZGVySXRlbS5sZW5ndGggLSAxKSB7XHJcbiAgICAgICAgICAgIGFjdGl2ZVNsaWRlKytcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBhY3RpdmVTbGlkZSA9IDBcclxuICAgICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIGlmIChhY3RpdmVTbGlkZSA+IDApIHtcclxuICAgICAgICAgICAgYWN0aXZlU2xpZGUtLVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGFjdGl2ZVNsaWRlID0gJHNsaWRlckl0ZW0ubGVuZ3RoIC0gMVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgICRzbGlkZXJJdGVtLmZvckVhY2goaXRlbSA9PiB7XHJcbiAgICAgICAgaXRlbS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKVxyXG4gICAgfSlcclxuICAgICRzbGlkZXJJdGVtW2FjdGl2ZVNsaWRlXS5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKVxyXG59XHJcbmxldCBpbnRlcnZhbCA9IHNldEludGVydmFsKCgpID0+IHNsaWRlck1vdmUoJ25leHQnKSwgMzAwMClcclxuXHJcbi8vIHNsaWRlclxyXG5cclxuY29uc3QgJG1haW5TbGlkZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubWFpbi1zbGlkZXInKTtcclxuY29uc3QgJG1haW5TbGlkZXJCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS10YXJnZXRdJyk7XHJcbmNvbnN0ICRtYWluU2xpZGVySXRlbSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5tYWluLXNsaWRlcl9faXRlbScpO1xyXG5sZXQgYWN0aXZlU2xpZCA9IDBcclxuJG1haW5TbGlkZXJJdGVtLmZvckVhY2goKGl0ZW0sIGkpID0+IHtcclxuICAgIGlmIChpdGVtLmNsYXNzTGlzdC5jb250YWlucygnYWN0aXZlJykpIHtcclxuICAgICAgICBhY3RpdmVTbGlkID0gaVxyXG4gICAgfVxyXG59KVxyXG4kbWFpblNsaWRlckJ0bi5mb3JFYWNoKGJ0biA9PiB7XHJcbiAgICBidG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xyXG4gICAgICAgIHNsaWRlckNoYW5nZShlLnRhcmdldC5nZXRBdHRyaWJ1dGUoJ2lkJykpXHJcbiAgICB9KVxyXG59KVxyXG5cclxuZnVuY3Rpb24gc2xpZGVyQ2hhbmdlKGRpcmVjdGlvbikge1xyXG4gICAgaWYgKGRpcmVjdGlvbiA9PT0gJ25leHQnKSB7XHJcbiAgICAgICAgaWYgKGFjdGl2ZVNsaWQgPCAkbWFpblNsaWRlckl0ZW0ubGVuZ3RoIC0gMSkge1xyXG4gICAgICAgICAgICBhY3RpdmVTbGlkKytcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBhY3RpdmVTbGlkID0gMFxyXG4gICAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgaWYgKGFjdGl2ZVNsaWQgPiAwKSB7XHJcbiAgICAgICAgICAgIGFjdGl2ZVNsaWQtLVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGFjdGl2ZVNsaWQgPSAkbWFpblNsaWRlckl0ZW0ubGVuZ3RoIC0gMVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgICRtYWluU2xpZGVySXRlbS5mb3JFYWNoKGl0ZW0gPT4ge1xyXG4gICAgICAgIGl0ZW0uY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJylcclxuICAgIH0pXHJcbiAgICAkbWFpblNsaWRlckl0ZW1bYWN0aXZlU2xpZF0uY2xhc3NMaXN0LmFkZCgnYWN0aXZlJylcclxufVxyXG5sZXQgbWFpbkludGVydmFsID0gc2V0SW50ZXJ2YWwoKCkgPT4gc2xpZGVyQ2hhbmdlKCduZXh0JyksIDMwMDApXHJcbiJdLCJmaWxlIjoiY29tbW9uLm1pbi5qcyJ9
